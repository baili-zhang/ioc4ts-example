/**
 * DefaultSingletonBeanRegistry 类
 * 
 * 单例 bean 注册
 * 
 * @author zhangbaili
 * @since 1.1.0-beta
*/

import Log from './utils/Log'

export default class DefaultSingletonBeanRegistry {
    private singletonObjects: Map<string, any> = new Map<string, any>()

    registerSingleton(name: string, singletonObject: any) {
        if(this.singletonObjects.has(name)) {
            throw new Error(`Error: singleton "${name}" has is exist !`)
        }

        this.singletonObjects.set(name, singletonObject)

        if(Log.isLog()) {
            Log.info('Bean', `Register singleton "${name}".`)
        }
    }

    getSingleton(name: string) {
        return this.singletonObjects.get(name)
    }
}