/**
 * View 注解
 * 
 * @author zhangbaili
 * @since 1.1.3-beta
*/

export default function View (name: string) {
    return async (ctor: any) => {
        if(document) {
            const element = document.getElementById(name)
            if(!element) {
                throw new Error(`Error: Element with id '${name}' is not found !`)
            }

            const html = new ctor().render()

            if(html instanceof Promise) {
                element.innerHTML = await html
            } else {
                element.innerHTML = html
            }
        }
    }
}